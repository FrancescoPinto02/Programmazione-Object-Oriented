package core;

import java.util.ArrayList;
import java.util.GregorianCalendar;

import exception.MalwareException;

public class Trojan extends Malware {
	
	private ArrayList<Malware> appToInstall; //Lista malware da installare

	//Costruttori
	public Trojan(String nome, GregorianCalendar rilascio, int pericolo) {
		super(nome, rilascio, pericolo);
		this.appToInstall = new ArrayList<Malware>();
	}	
	public Trojan(String nome, GregorianCalendar rilascio, int pericolo, ArrayList<Malware> appToInstall) {
		super(nome, rilascio, pericolo);
		this.appToInstall = appToInstall;
	}

	//Getter e Setter
	public ArrayList<Malware> getAppToInstall() {
		return appToInstall;
	}
	public void setAppToInstall(ArrayList<Malware> appToInstall) {
		this.appToInstall = appToInstall;
	}
	
	
	//Stampa azioni malevole svolte dal malware
	@Override
	public void doAction(String messageActionDone) {
		System.out.println("Malware: " + this.getClass().getSimpleName() + "\nAzioni Malevole: " + messageActionDone);
	}

	//Controlla se ci sono malware da installare nella lista
	public boolean installMalwares() throws MalwareException{
		if(this.appToInstall.size()>0) {
			return true;
		}
		else {
			throw new MalwareException();
		}
	}
	
	
	//Utility
	@Override
	public String toString() {
		return "Trojan [" + super.toString() + "]";
	}
	
	

}
